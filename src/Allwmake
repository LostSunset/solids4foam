#!/bin/bash
cd ${0%/*} || exit 1    # run from this directory

targetType=""

if [ "$WM_PROJECT" = "OpenFOAM" ]
then
    # Parse arguments for library compilation
    . $WM_PROJECT_DIR/wmake/scripts/AllwmakeParseArguments
fi

(cd blockCoupledSolids4FoamTools && ./Allwmake $targetType $*)
(cd solids4FoamModels && ./Allwmake  $targetType $*)

if [[ ! -z "${S4F_USE_GFORTRAN+x}" ]]
then
    (cd abaqusUMATs && ./Allwmake  $targetType $*)
else
    echo; echo "The S4F_USE_GFORTRAN variable is not set: skipping abaqusUMATs"
    echo "To use abaqusUMATs, install gfortran and set the S4F_USE_GFORTRAN "
    echo "variable to 1"; echo
fi
